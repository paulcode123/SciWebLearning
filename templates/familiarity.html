{% extends 'base.html' %}
{% block content %}
  <section class="panel">
    <h1 class="title">Which challenges do you already have an idea about?</h1>
    <p class="muted">We pre-generate curiosity prompts from your topic list. Check the ones where you already have a hypothesis, and jot down your current thinking.</p>

    <div class="list">
      {% set sample_prompts = [
        'Why does a rolling ball slow down faster on rough surfaces than on smooth ones?',
        'If you double an object\'s mass but keep velocity constant, what happens to momentum and kinetic energy?',
        'Why do astronauts float on the ISS even though gravity is still present?',
        'What determines how fast ice melts in salty vs fresh water?',
        'Why does adding resistors in parallel lower the total resistance?',
        'What makes a projectile\'s range maximal at 45Â° (neglecting air resistance)?',
        'Why does temperature relate to the average kinetic energy of particles?'
      ] %}

      {% for prompt in sample_prompts %}
        <div class="term card">
          <div class="subtitle" style="margin-bottom:8px;">{{ prompt }}</div>
          <label class="checkbox-row">
            <input type="checkbox" class="chk" data-target="input-{{ loop.index }}" />
            <span>I already have an idea about this</span>
          </label>
          <div class="familiarity-input" id="input-{{ loop.index }}" hidden>
            <input class="input" type="text" placeholder="Your hypothesis or rule-of-thumb (e.g., \"friction turns motion into heat\")" />
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="helper card soft">
      <h3 class="subtitle">Why we ask this</h3>
      <p class="muted">Learning accelerates when the system knows where your intuitions already point. Your initial answers help select the next right challenge and reveal productive contradictions.</p>
    </div>

    <div class="row between">
      <a class="button" href="/">Back</a>
      <a class="button primary" href="/inquiry">Next</a>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.chk').forEach(chk => {
        chk.addEventListener('change', (e) => {
          const targetId = e.target.getAttribute('data-target');
          const field = document.getElementById(targetId);
          if (!field) return;
          field.hidden = !e.target.checked;
        });
      });
    });
  </script>
{% endblock %}


